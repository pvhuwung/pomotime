<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A powerful Pomodoro timer and task management tool to boost productivity.">
    <meta name="author" content="pvhuwung">
    <meta name="keywords" content="Pomodoro, timer, productivity, task management, to-do list">
    <meta property="og:title" content="PomoTM">
    <meta property="og:description" content="A powerful Pomodoro timer and task management tool to boost productivity.">
    <meta property="og:image" content="./tomato.png">
    <meta property="og:url" content="https://pomotm.vercel.app">
    <meta property="og:type" content="website">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="PomoTM">
    <meta property="twitter:description" content="A powerful Pomodoro timer and task management tool to boost productivity.">
    <meta property="twitter:image" content="./tomato.png">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#EE4E4E">
    <meta name="application-name" content="PomoTM">

    <title>PomoTM</title>
        <style>
        :root {
            --pomodoro-color: #EE4E4E;
            --short-break-color: #4793AF;
            --long-break-color: #41B06E;
            --progress: 0deg;
            --timer-color: var(--pomodoro-color);
        }

        body {
            font-family: 'Arial', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--pomodoro-color);
            color: #333;
        }

        .main-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .glassmorphic {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .add-task-btn {
            background-color: var(--timer-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
            margin-bottom: 10px;
        }

        .add-task-btn:hover {
            opacity: 0.9;
        }

        .add-task-btn:active {
            transform: scale(0.98);
        }

        .timer-section, .task-section {
            width: 100%;
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .timer-section {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .task-section {
            display: flex;
            flex-direction: column;
        }

        .timer-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            margin-top: 20px;
        }

        .timer-buttons {
            display: flex;
            justify-content: center;
            width: 100%;
            margin-bottom: 20px;
        }

        .timer-buttons button {
            flex: 1;
            margin: 0 10px;
            padding: 10px;
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .timer-buttons .pomodoro {
            background-color: var(--pomodoro-color);
        }

        .timer-buttons .short-break {
            background-color: var(--short-break-color);
        }

        .timer-buttons .long-break {
            background-color: var(--long-break-color);
        }

        .timer-buttons button:hover {
            opacity: 0.8;
        }

        .timer-control-buttons {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        .clock {
            width: 450px;
            height: 300px;
            margin: 20px auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 147px;
            font-weight: bold;
            color: #ffffff;
            background-color: var(--timer-color);
            border-radius: 10px;
        }

        .clock-face {
            margin-bottom: 20px;
        }

        .timer-control-buttons {
            display: flex;
            justify-content: center;
            width: 90%;
            gap: 5px;
            margin-left: 10px;
            margin-right: 10px;
        }

        .timer-control-buttons button {
            flex: 1;
            margin: 0 5px;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
            backdrop-filter: blur(10px);
        }

        .timer-control-buttons button:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }

        select, input[type="text"], input[type="range"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            font-size: 16px;
            background-color: rgba(255, 255, 255, 0.1);
            color: #ffffff;
        }

        input[type="range"] {
            padding: 0;
            -webkit-appearance: none;
            appearance: none;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }

        input[type="range"]:hover {
            opacity: 1;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--timer-color);
            cursor: pointer;
            border-radius: 50%;
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--timer-color);
            cursor: pointer;
            border-radius: 50%;
        }

        .task-section {
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            padding: 20px;
        }

        .task-columns {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .task-column {
            flex: 1;
            min-width: 200px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 10px;
            min-height: 200px;
            border-left: 5px solid transparent;
        }

        .to-do, .in-progress, .done {
            border-left-color: #F5EFE6;
            border-left-width: 2px;
        }

        .task-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .task-list li {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: rgba(255, 255, 255, 0.3);
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 10px;
            cursor: move;
            transition: background-color 0.3s ease;
        }

        .task-list li:hover {
            background-color: rgba(255, 255, 255, 0.4);
        }

        .task-list li .task-buttons {
            display: flex;
            gap: 5px;
        }

        .task-list li button {
            background-color: rgba(255, 255, 255, 0.2);
            border: none;
            cursor: pointer;
            font-size: 16px;
            padding: 5px 10px;
            border-radius: 3px;
            color: #333;
            transition: background-color 0.3s ease;
        }

        .task-list li button:hover {
            background-color: rgba(255, 255, 255, 0.4);
        }

        .task-column h3 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 18px;
            text-align: center;
        }

        #new-task {
            width: calc(100% - 20px);
            margin-bottom: 10px;
            padding: 10px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            background-color: rgba(255, 255, 255, 0.2);
            color: #fff;
        }

        #new-task::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .add-task-btn {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            font-size: 16px;
        }

        .music-section {
            position: fixed;
            bottom: 0;
            right: 0;
            width: 50px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 10px;
            border-radius: 10px 10px 0 0;
            z-index: 1000;
            transition: width 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .music-section.expanded {
            width: 300px;
        }

        .music-section h2,
        .music-section input[type="text"],
        .music-section .music-embed {
            display: none;
            width: 100%;
        }

        .music-section.expanded h2,
        .music-section.expanded input[type="text"],
        .music-section.expanded .music-embed {
            display: block;
            padding: 5px 0;
        }

        .music-section button.toggle-button {
            width: 100%;
            background-color: var(--timer-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            padding: 5px;
        }

        .cycle-indicator {
            font-size: 18px;
            margin-bottom: 10px;
            color: white;
        }

        .clear-all-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            z-index: 999;
        }

        .clear-all-btn:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }

        .corner-container {
            position: fixed;
            bottom: 10px;
            left: 10px;
            text-align: left;
            font-size: 12px;
            font-family: Arial, sans-serif;
        }

        .corner-container a {
            color: #007bff;
            text-decoration: none;
        }

        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #f8f9fa;
            text-align: center;
            padding: 10px;
            font-size: 14px;
            font-family: Arial, sans-serif;
        }

        .footer a {
            color: #007bff;
            text-decoration: none;
            margin: 0 10px;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .footer img {
            height: 24px;
            vertical-align: middle;
            margin: 0 5px;
        }

        .footer .icons {
            margin-top: 5px;
        }

        .corner-container a:hover {
            text-decoration: underline;
        }

        /* Mobile View Adjustments */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .main-container {
                padding: 10px;
            }

            .clock {
                width: 100%;
                height: auto;
                font-size: 80px;
                text-align: center;
                align-content: center;
            }

            .clock-face {
                padding: 40px;
            }

            .timer-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .timer-buttons {
                display: flex;
                flex-wrap: wrap;
                justify-content: space-between;
                gap: 10px;
            }

            .timer-buttons button, .timer-control-buttons button {
                margin: 5px 0;
                flex: 1 1 calc(33.33% - 10px);
                padding: 10px;
                font-size: 14px;
            }

            .task-container {
                display: flex;
                flex-direction: column;
                gap: 10px;
                width: 100%;
            }

            .task-columns {
                display: flex;
                flex-direction: column;
                gap: 10px;
                width: 100%;
            }

            .task-column {
                width: 100%;
                min-height: 150px;
                padding: 10px;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
                border-radius: 5px;
            }
            
            .footer {
                padding: 10px;
                font-size: 12px;
            }

            .footer img {
                height: 20px;
                margin: 0 3px;
            }

            .clear-all-btn {
                position: static;
                margin: 10px 0;
                display: block;
                width: 100%;
            }
        }

    </style>
    <link rel="icon" href="./tomato.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>

<div class="main-container">

    <div class="timer-section">
        <button class="clear-all-btn" onclick="clearAllTasks()">Clear All</button>
        <div class="cycle-indicator" id="cycle-indicator"></div>
        <div class="timer-controls">
            <div class="timer-buttons">
                <button class="pomodoro" onclick="setTimerType('pomodoro')">Pomodoro</button>
                <button class="short-break" onclick="setTimerType('short-break')">Short Break</button>
                <button class="long-break" onclick="setTimerType('long-break')">Long Break</button>
            </div>
        </div>
        <div class="clock-container">
            <div class="clock">
                <div class="clock-face"></div>
                <div class="timer-control-buttons">
                    <button onclick="startTimer()"><i class="fas fa-play"></i></button>
                    <button onclick="pauseTimer()"><i class="fas fa-pause"></i></button>
                    <button onclick="resetTimer()"><i class="fas fa-undo"></i></button>
                    <button onclick="finishPomodoro()"><i class="fas fa-check"></i></button>
                </div>
            </div>
            <input type="range" id="duration-slider" min="1" max="60" value="25" oninput="updateDuration()">
        </div>

        <div class="add-task-container">
            <input type="text" id="new-task" placeholder="Enter new task">
            <button class="add-task-btn" onclick="addTask()">Add Task</button>
        </div>
    </div>
    <div class="task-section glassmorphic">
        <div class="task-columns">
            <div class="task-column to-do" id="todo-column">
                <h3>To Do</h3>
                <ul id="todo-list" class="task-list"></ul>
            </div>
            <div class="task-column in-progress" id="inprogress-column">
                <h3>In Progress</h3>
                <ul id="inprogress-list" class="task-list"></ul>
            </div>
            <div class="task-column done" id="done-column">
                <h3>Done</h3>
                <ul id="done-list" class="task-list"></ul>
            </div>
        </div>
    </div>
</div>

<div class="music-section" id="music-section">
    <button class="toggle-button" onclick="toggleMusicSection()">ðŸŽµ</button>
    <input type="text" id="music-link" placeholder="Paste Spotify or YouTube link here" onchange="changeMusic()">
    <div id="music-embed" class="music-embed"></div>
</div>
<div class="corner-container">
    <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js"
            data-id="pvhuwung" data-description="Support me on Buy me a coffee!"
            data-message="Thank you! You made little David day." data-color="#FFDD02" data-position="left"
            data-x_margin="11" data-y_margin="11"></script>
</div>

<script>
    const _0x315fd5 = _0x503d;
    (function (_0x580c32, _0x5bdd2e) {
        const _0x17028f = _0x503d, _0x347951 = _0x580c32();
        while (!![]) {
            try {
                const _0x28e203 = parseInt(_0x17028f(0x166)) / 0x1 * (parseInt(_0x17028f(0x12e)) / 0x2) + parseInt(_0x17028f(0x171)) / 0x3 * (-parseInt(_0x17028f(0x147)) / 0x4) + -parseInt(_0x17028f(0x151)) / 0x5 * (-parseInt(_0x17028f(0x178)) / 0x6) + parseInt(_0x17028f(0x173)) / 0x7 * (parseInt(_0x17028f(0x174)) / 0x8) + -parseInt(_0x17028f(0x12b)) / 0x9 * (-parseInt(_0x17028f(0x195)) / 0xa) + -parseInt(_0x17028f(0x16b)) / 0xb * (parseInt(_0x17028f(0x141)) / 0xc) + parseInt(_0x17028f(0x19b)) / 0xd;
                if (_0x28e203 === _0x5bdd2e) break; else _0x347951['push'](_0x347951['shift']());
            } catch (_0x3c15d0) {
                _0x347951['push'](_0x347951['shift']());
            }
        }
    }(_0x5149, 0x5d3aa));
    let tasks = [], timer, duration = 0x19 * 0x3c, remainingTime = duration, isTimerRunning = ![],
        currentTimerType = _0x315fd5(0x130), cycleStage = 0x0;
    const defaultCycle = ['pomodoro', _0x315fd5(0x157), _0x315fd5(0x130), _0x315fd5(0x157), _0x315fd5(0x130), _0x315fd5(0x157), _0x315fd5(0x130), _0x315fd5(0x1a0)];

    function _0x503d(_0x44e5f0, _0x4c7a45) {
        const _0x5149f1 = _0x5149();
        return _0x503d = function (_0x503dc0, _0x393c6f) {
            _0x503dc0 = _0x503dc0 - 0x12a;
            let _0x5c7890 = _0x5149f1[_0x503dc0];
            return _0x5c7890;
        }, _0x503d(_0x44e5f0, _0x4c7a45);
    }

    function loadFromLocalStorage() {
        const _0x3aa50b = _0x315fd5, _0x45aef2 = localStorage[_0x3aa50b(0x135)](_0x3aa50b(0x192));
        _0x45aef2 && (tasks = JSON[_0x3aa50b(0x13e)](_0x45aef2), renderTasks());
        const _0x287684 = localStorage[_0x3aa50b(0x135)](_0x3aa50b(0x12d));
        if (_0x287684) {
            const _0x1efe1f = JSON[_0x3aa50b(0x13e)](_0x287684);
            currentTimerType = _0x1efe1f[_0x3aa50b(0x161)], cycleStage = _0x1efe1f['cycleStage'], remainingTime = _0x1efe1f[_0x3aa50b(0x146)], duration = _0x1efe1f[_0x3aa50b(0x12a)], setTimerType(currentTimerType), updateClock();
        }
    }

    function renderTasks() {
        const _0x186c9c = _0x315fd5;
        document[_0x186c9c(0x191)](_0x186c9c(0x13f))[_0x186c9c(0x16c)] = '', document[_0x186c9c(0x191)]('inprogress-list')['innerHTML'] = '', document[_0x186c9c(0x191)]('done-list')[_0x186c9c(0x16c)] = '', tasks[_0x186c9c(0x16f)](_0x86f85c => {
            const _0x526e3b = _0x186c9c;
            addTask(_0x86f85c[_0x526e3b(0x131)], _0x86f85c[_0x526e3b(0x132)], _0x86f85c[_0x526e3b(0x189)]);
        });
    }

    function saveToLocalStorage() {
        const _0x5ba752 = _0x315fd5;
        localStorage['setItem']('tasks', JSON[_0x5ba752(0x14f)](tasks)), localStorage[_0x5ba752(0x134)](_0x5ba752(0x12d), JSON[_0x5ba752(0x14f)]({
            'currentTimerType': currentTimerType,
            'cycleStage': cycleStage,
            'remainingTime': remainingTime,
            'duration': duration
        }));
    }

    function addTask(_0x1b6739 = null, _0x483f1a = ![], _0x4ab74a = ![]) {
        const _0x1d9670 = _0x315fd5, _0x59b9be = document[_0x1d9670(0x191)](_0x1d9670(0x140));
        if (!_0x1b6739) {
            _0x1b6739 = _0x59b9be[_0x1d9670(0x165)];
            if (_0x1b6739 === '' || tasks['some'](_0x4e3250 => _0x4e3250[_0x1d9670(0x131)] === _0x1b6739)) return;
        }
        const _0x3d328d = _0x4ab74a ? document[_0x1d9670(0x191)](_0x1d9670(0x15a)) : _0x483f1a ? document[_0x1d9670(0x191)]('done-list') : document[_0x1d9670(0x191)](_0x1d9670(0x13f)),
            _0x1aa215 = document[_0x1d9670(0x193)]('li');
        _0x1aa215['id'] = _0x1d9670(0x15e) + Date['now'](), _0x1aa215[_0x1d9670(0x17d)] = _0x483f1a ? 'completed' : _0x4ab74a ? _0x1d9670(0x18c) : '', _0x1aa215['draggable'] = !![];
        const _0xcbce2b = document[_0x1d9670(0x193)](_0x1d9670(0x14b));
        _0xcbce2b[_0x1d9670(0x136)] = _0x1b6739, _0x1aa215[_0x1d9670(0x1a2)](_0xcbce2b);
        const _0x188baa = document[_0x1d9670(0x193)](_0x1d9670(0x13b));
        _0x188baa[_0x1d9670(0x17d)] = _0x1d9670(0x169);
        if (_0x4ab74a || _0x483f1a) {
            const _0xf2e404 = document[_0x1d9670(0x193)]('button');
            _0x188baa[_0x1d9670(0x1a2)](_0xf2e404), _0xf2e404['innerHTML'] = _0x1d9670(0x186), _0xf2e404[_0x1d9670(0x194)] = function () {
                const _0x385ed6 = _0x1d9670;
                moveTask(_0x1aa215, _0x385ed6(0x179));
            };
        }
        if (!_0x483f1a) {
            const _0x1c6b8b = document[_0x1d9670(0x193)](_0x1d9670(0x12f));
            _0x1c6b8b['innerHTML'] = _0x1d9670(0x155), _0x1c6b8b[_0x1d9670(0x194)] = function () {
                const _0x33aad9 = _0x1d9670;
                moveTask(_0x1aa215, _0x33aad9(0x160));
            }, _0x188baa[_0x1d9670(0x1a2)](_0x1c6b8b);
        }
        const _0x2fb731 = document[_0x1d9670(0x193)](_0x1d9670(0x12f));
        _0x2fb731[_0x1d9670(0x16c)] = _0x1d9670(0x15f), _0x2fb731[_0x1d9670(0x194)] = function () {
            const _0x29ddb8 = _0x1d9670;
            _0x1aa215[_0x29ddb8(0x15c)](), tasks = tasks[_0x29ddb8(0x164)](_0x442ed6 => _0x442ed6[_0x29ddb8(0x131)] !== _0x1b6739), saveToLocalStorage();
        }, _0x188baa[_0x1d9670(0x1a2)](_0x2fb731), _0x1aa215['appendChild'](_0x188baa), _0x3d328d[_0x1d9670(0x1a2)](_0x1aa215), _0x59b9be[_0x1d9670(0x165)] = '', tasks[_0x1d9670(0x175)]({
            'text': _0x1b6739,
            'completed': _0x483f1a,
            'isInProgress': _0x4ab74a
        }), _0x1aa215[_0x1d9670(0x18d)](_0x1d9670(0x17a), handleDragStart), _0x1aa215[_0x1d9670(0x18d)]('dragend', handleDragEnd), saveToLocalStorage();
    }

    function moveTask(_0xe2a13e, _0x47b1b3) {
        const _0x1469ce = _0x315fd5, _0x30b401 = _0xe2a13e[_0x1469ce(0x152)];
        let _0x173340;
        if (_0x47b1b3 === 'forward') {
            if (_0x30b401['id'] === _0x1469ce(0x13f)) _0x173340 = document[_0x1469ce(0x191)](_0x1469ce(0x15a)); else _0x30b401['id'] === _0x1469ce(0x15a) && (_0x173340 = document[_0x1469ce(0x191)](_0x1469ce(0x14e)));
        } else {
            if (_0x47b1b3 === _0x1469ce(0x179)) {
                if (_0x30b401['id'] === 'inprogress-list') _0x173340 = document[_0x1469ce(0x191)](_0x1469ce(0x13f)); else _0x30b401['id'] === _0x1469ce(0x14e) && (_0x173340 = document[_0x1469ce(0x191)](_0x1469ce(0x15a)));
            }
        }
        _0x173340 && (_0x173340['appendChild'](_0xe2a13e), updateTaskStatus(_0xe2a13e, _0x173340['id']));
    }

    function updateTaskStatus(_0x14d765, _0x597372) {
        const _0x335245 = _0x315fd5, _0x110f4a = _0x14d765[_0x335245(0x16a)](_0x335245(0x14b))['textContent'],
            _0x1305b4 = tasks[_0x335245(0x142)](_0x5dcb49 => _0x5dcb49[_0x335245(0x131)] === _0x110f4a);
        _0x1305b4 !== -0x1 && (tasks[_0x1305b4][_0x335245(0x132)] = _0x597372 === 'done-list', tasks[_0x1305b4][_0x335245(0x189)] = _0x597372 === 'inprogress-list');
        const _0x5abb97 = _0x14d765[_0x335245(0x16a)](_0x335245(0x172));
        _0x5abb97['innerHTML'] = '';
        if (_0x597372 !== _0x335245(0x13f)) {
            const _0x4ac963 = document[_0x335245(0x193)]('button');
            _0x4ac963[_0x335245(0x16c)] = _0x335245(0x186), _0x4ac963[_0x335245(0x194)] = function () {
                const _0xc01a89 = _0x335245;
                moveTask(_0x14d765, _0xc01a89(0x179));
            }, _0x5abb97[_0x335245(0x1a2)](_0x4ac963);
        }
        if (_0x597372 !== 'done-list') {
            const _0x198464 = document[_0x335245(0x193)](_0x335245(0x12f));
            _0x198464[_0x335245(0x16c)] = _0x335245(0x155), _0x198464['onclick'] = function () {
                const _0x38c074 = _0x335245;
                moveTask(_0x14d765, _0x38c074(0x160));
            }, _0x5abb97[_0x335245(0x1a2)](_0x198464);
        }
        const _0x3f3419 = document[_0x335245(0x193)]('button');
        _0x3f3419[_0x335245(0x16c)] = _0x335245(0x15f), _0x3f3419[_0x335245(0x194)] = function () {
            const _0x5d3e12 = _0x335245;
            _0x14d765[_0x5d3e12(0x15c)](), tasks = tasks[_0x5d3e12(0x164)](_0x27abfb => _0x27abfb[_0x5d3e12(0x131)] !== _0x110f4a), saveToLocalStorage();
        }, _0x5abb97[_0x335245(0x1a2)](_0x3f3419), saveToLocalStorage();
    }

    function setTimerType(_0x444bbc) {
        const _0x4d0792 = _0x315fd5;
        currentTimerType = _0x444bbc;
        switch (_0x444bbc) {
            case _0x4d0792(0x130):
                duration = 0x19 * 0x3c, document[_0x4d0792(0x149)]['style'][_0x4d0792(0x17c)](_0x4d0792(0x196), 'var(--pomodoro-color)');
                break;
            case _0x4d0792(0x157):
                duration = 0x5 * 0x3c, document['documentElement'][_0x4d0792(0x182)][_0x4d0792(0x17c)](_0x4d0792(0x196), 'var(--short-break-color)');
                break;
            case'long-break':
                duration = 0xf * 0x3c, document[_0x4d0792(0x149)][_0x4d0792(0x182)][_0x4d0792(0x17c)](_0x4d0792(0x196), _0x4d0792(0x168));
                break;
        }
        document[_0x4d0792(0x170)][_0x4d0792(0x182)][_0x4d0792(0x133)] = getComputedStyle(document[_0x4d0792(0x149)])[_0x4d0792(0x12c)](_0x4d0792(0x196)), remainingTime = duration, updateClock(), cycleStage = findNearestStage(_0x444bbc), updateCycleIndicator(), saveToLocalStorage();
    }

    function findNearestStage(_0x40143c) {
        const _0x4faa50 = _0x315fd5, _0x1ed9c9 = cycleStage % defaultCycle[_0x4faa50(0x144)];
        let _0x705915 = _0x1ed9c9, _0x2c6ec3 = defaultCycle[_0x4faa50(0x144)];
        for (let _0x252fa5 = 0x0; _0x252fa5 < defaultCycle['length']; _0x252fa5++) {
            if (defaultCycle[_0x252fa5] === _0x40143c) {
                const _0x4b992c = Math[_0x4faa50(0x16e)](Math['abs'](_0x252fa5 - _0x1ed9c9), defaultCycle[_0x4faa50(0x144)] - Math[_0x4faa50(0x148)](_0x252fa5 - _0x1ed9c9));
                _0x4b992c < _0x2c6ec3 && (_0x2c6ec3 = _0x4b992c, _0x705915 = _0x252fa5);
            }
        }
        return _0x705915;
    }

    function finishPomodoro() {
        const _0x1055db = _0x315fd5;
        cycleStage = (cycleStage + 0x1) % defaultCycle[_0x1055db(0x144)], setTimerType(defaultCycle[cycleStage]), resetTimer(), updateCycleIndicator(), saveToLocalStorage();
    }

    function updateCycleIndicator() {
        const _0x1062bf = _0x315fd5, _0x4ad566 = document['getElementById']('cycle-indicator'),
            _0x41457d = cycleStage % defaultCycle[_0x1062bf(0x144)],
            _0x54a466 = {'pomodoro': _0x1062bf(0x14a), 'short-break': _0x1062bf(0x139), 'long-break': _0x1062bf(0x190)};
        _0x4ad566[_0x1062bf(0x136)] = _0x1062bf(0x17f) + (_0x41457d + 0x1) + '/' + defaultCycle[_0x1062bf(0x144)] + ':\x20' + _0x54a466[currentTimerType];
    }

    function startTimer() {
        if (isTimerRunning) return;
        isTimerRunning = !![], timer = setInterval(updateTimer, 0x3e8), saveToLocalStorage();
    }

    function pauseTimer() {
        clearInterval(timer), isTimerRunning = ![], saveToLocalStorage();
    }

    function resetTimer() {
        clearInterval(timer), isTimerRunning = ![], remainingTime = duration, updateClock(), saveToLocalStorage();
    }

    function finishSession() {
        const _0x2b5673 = _0x315fd5;
        cycleStage = (cycleStage + 0x1) % defaultCycle[_0x2b5673(0x144)], setTimerType(defaultCycle[cycleStage]), resetTimer(), startTimer();
    }

    function updateTimer() {
        remainingTime--;
        if (remainingTime <= 0x0) {
            finishSession();
            return;
        }
        updateClock(), saveToLocalStorage();
    }

    function updateClock() {
        const _0x4f8bfc = _0x315fd5, _0x3336b8 = Math[_0x4f8bfc(0x14d)](remainingTime / 0x3c),
            _0x58c70c = remainingTime % 0x3c;
        document[_0x4f8bfc(0x16a)](_0x4f8bfc(0x16d))[_0x4f8bfc(0x136)] = String(_0x3336b8)[_0x4f8bfc(0x13d)](0x2, '0') + ':' + String(_0x58c70c)[_0x4f8bfc(0x13d)](0x2, '0');
        const _0x14e335 = (duration - remainingTime) / duration * 0x168;
        document['documentElement'][_0x4f8bfc(0x182)][_0x4f8bfc(0x17c)](_0x4f8bfc(0x138), _0x14e335 + _0x4f8bfc(0x14c));
    }

    function updateDuration() {
        const _0x3ad4ec = _0x315fd5;
        duration = document[_0x3ad4ec(0x191)](_0x3ad4ec(0x19e))[_0x3ad4ec(0x165)] * 0x3c, remainingTime = duration, updateClock(), saveToLocalStorage();
    }

    function _0x5149() {
        const _0x424223 = ['https://www.youtube.com/embed/', 'long-break', 'height', 'appendChild', 'width', 'duration', '414sIpOtL', 'getPropertyValue', 'timerState', '706JYsjvL', 'button', 'pomodoro', 'text', 'completed', 'backgroundColor', 'setItem', 'getItem', 'textContent', 'encrypted-media', '--progress', 'Short\x20Break', 'https://www.youtube.com/watch?v=', 'div', 'src', 'padStart', 'parse', 'todo-list', 'new-task', '981852yKhRyM', 'findIndex', 'includes', 'length', 'display', 'remainingTime', '44QrAQEr', 'abs', 'documentElement', 'Pomodoro', 'span', 'deg', 'floor', 'done-list', 'stringify', 'frameBorder', '965SEMuTL', 'parentElement', 'text/plain', 'https://open.spotify.com/', '&#10095;', 'dataTransfer', 'short-break', 'task-list', 'task-column', 'inprogress-list', '.task-list', 'remove', 'classList', 'task-', '&#10005;', 'forward', 'currentTimerType', 'allow', 'toggle', 'filter', 'value', '38qKBerl', 'expanded', 'var(--long-break-color)', 'task-buttons', 'querySelector', '33SzDQGD', 'innerHTML', '.clock-face', 'min', 'forEach', 'body', '122901VDObhq', '.task-buttons', '222901GADnWM', '72HSYGHd', 'push', 'target', 'youtube', '4686hPArbx', 'back', 'dragstart', 'https://open.spotify.com/embed/', 'setProperty', 'className', 'dragging', 'Stage\x20', 'setData', 'contains', 'style', 'autoplay;\x20encrypted-media', 'none', 'drop', '&#10094;', 'querySelectorAll', 'DOMContentLoaded', 'isInProgress', '200', 'closest', 'in-progress', 'addEventListener', 'code,\x20pre', 'dragover', 'Long\x20Break', 'getElementById', 'tasks', 'createElement', 'onclick', '126890FCqEiT', '--timer-color', 'music-embed', 'preventDefault', 'getData', '.task-column', '565994dNsSuz', 'onload', 'iframe', 'duration-slider'];
        _0x5149 = function () {
            return _0x424223;
        };
        return _0x5149();
    }

    function handleDragStart(_0x4b1781) {
        const _0x1a08fe = _0x315fd5;
        _0x4b1781['dataTransfer'][_0x1a08fe(0x180)](_0x1a08fe(0x153), _0x4b1781['target']['id']), _0x4b1781[_0x1a08fe(0x176)][_0x1a08fe(0x15d)]['add'](_0x1a08fe(0x17e));
    }

    function handleDragEnd(_0x34797f) {
        const _0x4ce727 = _0x315fd5;
        _0x34797f[_0x4ce727(0x176)][_0x4ce727(0x15d)][_0x4ce727(0x15c)]('dragging');
    }

    function handleDragOver(_0x3af7ab) {
        const _0x585fee = _0x315fd5;
        _0x3af7ab[_0x585fee(0x198)]();
    }

    function handleDrop(_0x3ab8b1) {
        const _0x320932 = _0x315fd5;
        _0x3ab8b1[_0x320932(0x198)]();
        const _0x2d6427 = _0x3ab8b1[_0x320932(0x156)][_0x320932(0x199)](_0x320932(0x131)),
            _0x232020 = document[_0x320932(0x191)](_0x2d6427);
        if (_0x3ab8b1['target'][_0x320932(0x15d)][_0x320932(0x181)](_0x320932(0x159))) _0x3ab8b1[_0x320932(0x176)]['querySelector'](_0x320932(0x15b))[_0x320932(0x1a2)](_0x232020); else {
            if (_0x3ab8b1[_0x320932(0x176)][_0x320932(0x15d)]['contains'](_0x320932(0x158))) _0x3ab8b1['target'][_0x320932(0x1a2)](_0x232020); else _0x3ab8b1[_0x320932(0x176)]['closest'](_0x320932(0x19a)) && _0x3ab8b1['target'][_0x320932(0x18b)]('.task-column')['querySelector'](_0x320932(0x15b))['appendChild'](_0x232020);
        }
        updateTaskStatus(_0x232020, _0x232020['closest'](_0x320932(0x19a))['id']);
    }

    function changeMusic() {
        const _0x3a3872 = _0x315fd5, _0x523056 = document[_0x3a3872(0x191)]('music-link')[_0x3a3872(0x165)],
            _0x3691e0 = document['getElementById'](_0x3a3872(0x197));
        _0x3691e0[_0x3a3872(0x16c)] = '';
        if (_0x523056[_0x3a3872(0x143)]('spotify')) {
            const _0x2368e1 = _0x523056['replace'](_0x3a3872(0x154), _0x3a3872(0x17b)),
                _0x5e0b52 = document['createElement'](_0x3a3872(0x19d));
            _0x5e0b52[_0x3a3872(0x13c)] = _0x2368e1, _0x5e0b52[_0x3a3872(0x1a3)] = '300', _0x5e0b52['height'] = '380', _0x5e0b52[_0x3a3872(0x150)] = '0', _0x5e0b52[_0x3a3872(0x162)] = _0x3a3872(0x137), _0x3691e0[_0x3a3872(0x1a2)](_0x5e0b52);
        } else {
            if (_0x523056[_0x3a3872(0x143)](_0x3a3872(0x177))) {
                const _0x3a0225 = _0x523056['replace'](_0x3a3872(0x13a), _0x3a3872(0x19f)),
                    _0x51626d = document[_0x3a3872(0x193)](_0x3a3872(0x19d));
                _0x51626d['src'] = _0x3a0225, _0x51626d[_0x3a3872(0x1a3)] = '300', _0x51626d[_0x3a3872(0x1a1)] = _0x3a3872(0x18a), _0x51626d[_0x3a3872(0x150)] = '0', _0x51626d[_0x3a3872(0x162)] = _0x3a3872(0x183), _0x3691e0[_0x3a3872(0x1a2)](_0x51626d);
            }
        }
    }

    function toggleMusicSection() {
        const _0x577fc2 = _0x315fd5, _0x1404dd = document['getElementById']('music-section');
        _0x1404dd[_0x577fc2(0x15d)][_0x577fc2(0x163)](_0x577fc2(0x167));
    }

    function clearAllTasks() {
        const _0x5709f9 = _0x315fd5;
        document[_0x5709f9(0x191)](_0x5709f9(0x13f))[_0x5709f9(0x16c)] = '', document[_0x5709f9(0x191)]('inprogress-list')[_0x5709f9(0x16c)] = '', document[_0x5709f9(0x191)]('done-list')[_0x5709f9(0x16c)] = '', tasks = [], saveToLocalStorage();
    }

    window[_0x315fd5(0x19c)] = function () {
        const _0x8d80a3 = _0x315fd5;
        loadFromLocalStorage(), updateCycleIndicator();
        const _0x4ab650 = document[_0x8d80a3(0x187)]('.task-column');
        _0x4ab650[_0x8d80a3(0x16f)](_0x33b613 => {
            const _0x1a80b4 = _0x8d80a3;
            _0x33b613[_0x1a80b4(0x18d)](_0x1a80b4(0x18f), handleDragOver), _0x33b613[_0x1a80b4(0x18d)](_0x1a80b4(0x185), handleDrop);
        });
    }, document[_0x315fd5(0x18d)](_0x315fd5(0x188), () => {
        (remainingTime === undefined || remainingTime === null) && (remainingTime = 0x19 * 0x3c), updateClock();
    }), document[_0x315fd5(0x187)](_0x315fd5(0x18e))[_0x315fd5(0x16f)](function (_0x132696) {
        const _0x17f869 = _0x315fd5;
        _0x132696['style'][_0x17f869(0x145)] = _0x17f869(0x184);
    });

</script>
</body>
</html>
